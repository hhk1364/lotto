<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="RoundDAO">
	<select id="RoundDAO.selectDrwNoLotto" parameterType="hashMap" resultType="hashMap">
		SELECT
			drwNo,
			drwNoDate,
			drwtNo1,
			drwtNo2,
			drwtNo3,
			drwtNo4,
			drwtNo5,
			drwtNo6,
			bnusNo,
			CAST(firstWinamnt as signed integer) as firstWinamnt,
			CAST(firstPrzwnerCo as signed integer) as firstPrzwnerCo,
			CAST(firstAccumamnt as signed integer) as firstAccumamnt,
			CAST(totSellamnt as signed integer) as totSellamnt
		FROM 
			LOTTO_DATA_M
		<where>
			<choose>
			    <when test="drwNo != null">
			      	drwNo = #{drwNo}
			    </when>
			    <otherwise>
 					drwNo = (select max(drwNo) from lotto_data_m)			    
 				</otherwise>	
		 	</choose>
		</where>
	</select>
	
</mapper>