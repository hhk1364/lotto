<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="comDAO">

	<!-- 전체 대메뉴 정보 가져오기 -->
	<select id="comDAO.selectAllTopMenu" parameterType="hashMap" resultType="hashMap">
	/** comDAO.selectTopMenu - 전체 대메뉴 정보 가져오기 */
		select
			*
		from
			com_mnu_info_m
		where
			menu_level = 1 
	</select>
	
	<!-- 하위 메뉴 정보 가져오기 -->
	<select id="comDAO.selectMyDownMenu" parameterType="hashMap" resultType="hashMap">
	/** comDAO.selectMyDownMenu - 하위 메뉴 정보 가져오기 */
		select
			*
		from
			com_mnu_info_m
		where
			upper_menu_no = ( select upper_menu_no from com_mnu_info_m where url = #{requestURI} and menu_level <![CDATA[!=]]> 1) 
	</select>
	
	<!-- 현재 선택된 대 메뉴 정보 가져오기 -->
	<select id="comDAO.selectMyTopMenu" parameterType="hashMap" resultType="hashMap">
	/** comDAO.selectMyTopMenu - 현재 선택된 대 메뉴 정보 가져오기 */
		select
			*
		from
			com_mnu_info_m
		where
			menu_no = ( select upper_menu_no from com_mnu_info_m where url = #{requestURI} and menu_level <![CDATA[!=]]> 1) 
	</select>
	
	<!-- 현재 선택된 메뉴 정보 가져오기 -->
	<select id="comDAO.selectMyMenu" parameterType="hashMap" resultType="hashMap">
	/** comDAO.selectMyMenu - 현재 선택된 메뉴 정보 가져오기 */
		select
			*
		from
			com_mnu_info_m
		where
			url = #{requestURI} and menu_level <![CDATA[!=]]> 1
	</select>
	
</mapper>